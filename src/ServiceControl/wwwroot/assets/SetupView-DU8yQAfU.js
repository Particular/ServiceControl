import{e as R,bS as T,s as y,u as V,l as _,p as I,n as i,x as l,q as s,m as u,t as f,z as o,v as e,y as n,_ as c,a3 as g,aI as h,K as b,k as r,B as S,E as m,bT as k,c2 as M,U as N}from"./index-C-3C3fiy.js";const A={class:"box"},B={class:"row"},D={key:0,class:"intro"},E={key:0},F={key:1},L={key:0},Y={key:1},z={key:3},q={key:0},K={key:1},P={key:0},U={class:"row"},$={class:"col-sm-12"},j={class:"nav tabs"},G={class:"intro"},H=R({__name:"SetupView",setup(J){const{store:p}=T(),{testResults:d,isBrokerTransport:v}=y(p),x=V(),{isMonitoringEnabled:w}=y(x);return(O,t)=>{const a=_("RouterLink"),C=_("RouterView");return i(),I(M,null,{default:l(()=>[s("div",A,[s("div",B,[o(v)?(i(),u(b,{key:1},[o(d)?.broker_connection_result.connection_successful?(i(),u("div",q,[s("h6",null,[e(c,{icon:o(g),class:"text-success"},null,8,["icon"]),n(" Successfully connected to "+S(o(p).transportNameForInstructions())+" for usage collection.",1)])])):(i(),u("div",K,[s("h6",null,[e(c,{icon:o(h),class:"text-danger"},null,8,["icon"]),n(" The connection to "+S(o(p).transportNameForInstructions())+" was not successful.",1)]),s("p",null,[t[14]||(t[14]=n(" You may have not setup all the connection settings, have a look at the ",-1)),e(a,{to:o(r).throughput.setup.connectionSetup.link},{default:l(()=>[...t[12]||(t[12]=[n("Connection Setup",-1)])]),_:1},8,["to"]),t[15]||(t[15]=n(" tab.",-1)),t[16]||(t[16]=s("br",null,null,-1)),t[17]||(t[17]=n(" If you have set all the connection settings but are still having issues, look at the ",-1)),e(a,{to:o(r).throughput.setup.diagnostics.link},{default:l(()=>[...t[13]||(t[13]=[n("Diagnostics",-1)])]),_:1},8,["to"]),t[18]||(t[18]=n(" tab for more information on how to fix them. ",-1))])])),t[19]||(t[19]=s("div",{class:"alert alert-info"},[n(" Note: enabling "),s("a",{href:"https://docs.particular.net/servicecontrol/audit-instances/"},"Audit"),n(" or "),s("a",{href:"https://docs.particular.net/monitoring/metrics/"},"Monitoring"),n(" is not mandatory when usage is being collected from the broker, but doing so highly improves the accuracy of the usage data and Endpoint identification. ")],-1))],64)):(i(),u("div",D,[o(d)?.audit_connection_result.connection_successful?(i(),u("div",E,[s("h6",null,[e(c,{icon:o(g),class:"text-success"},null,8,["icon"]),t[0]||(t[0]=n(" Successfully connected to Audit instance(s) for usage collection.",-1))])])):(i(),u("div",F,[s("h6",null,[e(c,{icon:o(h),class:"text-danger"},null,8,["icon"]),t[1]||(t[1]=n(" The connection to one or more Audit instances was not successful.",-1))])])),o(w)?(i(),u(b,{key:2},[o(d)?.monitoring_connection_result.connection_successful?(i(),u("div",L,[s("h6",null,[e(c,{icon:o(g),class:"text-success"},null,8,["icon"]),t[2]||(t[2]=n(" Successfully connected to Monitoring for usage collection.",-1))])])):(i(),u("div",Y,[s("h6",null,[e(c,{icon:o(h),class:"text-danger"},null,8,["icon"]),t[3]||(t[3]=n(" The connection to Monitoring was not successful.",-1))])]))],64)):f("",!0),t[11]||(t[11]=s("p",null,[n(" You are using a transport that does not support automatic usage collection directly from the broker."),s("br"),n(" In order for ServicePulse to collect usage data from your endpoints, you need to ensure that either Audit or Monitoring (metrics) are enabled on all your endpoints."),s("br"),n(" Read the "),s("a",{href:"https://docs.particular.net/servicecontrol/audit-instances/"},"Audit documentation"),n(" and the "),s("a",{href:"https://docs.particular.net/monitoring/metrics/"},"Monitoring documentation"),n(" for setup instructions. ")],-1)),!o(d)?.audit_connection_result.connection_successful||!o(d)?.monitoring_connection_result.connection_successful?(i(),u("p",z,[t[6]||(t[6]=n(" You may have not setup all the connection settings, have a look at the ",-1)),e(a,{to:o(r).throughput.setup.connectionSetup.link},{default:l(()=>[...t[4]||(t[4]=[n("Connection Setup",-1)])]),_:1},8,["to"]),t[7]||(t[7]=n(" tab.",-1)),t[8]||(t[8]=s("br",null,null,-1)),t[9]||(t[9]=n(" If you have set all the connection settings but are still having issues, look at the ",-1)),e(a,{to:o(r).throughput.setup.diagnostics.link},{default:l(()=>[...t[5]||(t[5]=[n("Diagnostics",-1)])]),_:1},8,["to"]),t[10]||(t[10]=n(" tab for more information on how to fix them. ",-1))])):f("",!0)]))]),o(v)?(i(),u("br",P)):f("",!0),s("div",U,[s("div",$,[s("div",j,[s("h5",{class:m(["nav-item",{active:o(k)(o(r).throughput.setup.connectionSetup.link)}])},[e(a,{to:o(r).throughput.setup.connectionSetup.link},{default:l(()=>[...t[20]||(t[20]=[n("Connection Setup",-1)])]),_:1},8,["to"])],2),s("h5",{class:m(["nav-item",{active:o(k)(o(r).throughput.setup.diagnostics.link)}])},[e(a,{to:o(r).throughput.setup.diagnostics.link},{default:l(()=>[...t[21]||(t[21]=[n("Diagnostics",-1)])]),_:1},8,["to"])],2),s("h5",{class:m(["nav-item",{active:o(k)(o(r).throughput.setup.mask.link)}])},[e(a,{to:o(r).throughput.setup.mask.link},{default:l(()=>[...t[22]||(t[22]=[n("Mask Report Data",-1)])]),_:1},8,["to"])],2)])])]),s("div",G,[e(C)])])]),_:1})}}}),W=N(H,[["__scopeId","data-v-2b92e3d7"]]);export{W as default};
//# sourceMappingURL=SetupView-DU8yQAfU.js.map
