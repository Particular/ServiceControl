{"version":3,"file":"FailedMessageGroups-Bhk9iJUQ.js","sources":["../../../../frontend/src/components/failedmessages/LastTenOperations.vue","../../../../frontend/src/components/failedmessages/FailedMessageGroupNoteEdit.vue","../../../../frontend/src/components/failedmessages/ProgressMessage.vue","../../../../frontend/src/components/failedmessages/MessageGroupList.vue","../../../../frontend/src/components/failedmessages/FailedMessageGroups.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { onMounted, ref } from \"vue\";\nimport NoData from \"../NoData.vue\";\nimport TimeSince from \"../TimeSince.vue\";\nimport type HistoricRetryOperation from \"@/resources/HistoricRetryOperation\";\nimport RecoverabilityHistoryResponse from \"@/resources/RecoverabilityHistoryResponse\";\nimport FAIcon from \"@/components/FAIcon.vue\";\nimport { faAngleDown, faAngleRight, faEnvelope } from \"@fortawesome/free-solid-svg-icons\";\nimport { faClock } from \"@fortawesome/free-regular-svg-icons\";\nimport { useServiceControlStore } from \"@/stores/ServiceControlStore\";\n\nconst historicOperations = ref<HistoricRetryOperation[]>([]);\nconst showHistoricRetries = ref(false);\n\nconst serviceControlStore = useServiceControlStore();\n\nasync function getHistoricOperations() {\n  const [, data] = await serviceControlStore.fetchTypedFromServiceControl<RecoverabilityHistoryResponse>(\"recoverability/history\");\n  historicOperations.value = data.historic_operations;\n}\n\nonMounted(() => {\n  getHistoricOperations();\n});\n</script>\n\n<template>\n  <div class=\"lasttenoperations\">\n    <div class=\"row\">\n      <div class=\"col-sm-12 list-section\">\n        <h6>\n          <span class=\"no-link-underline\" aria-hidden=\"true\" v-show=\"showHistoricRetries\"><FAIcon :icon=\"faAngleDown\" size=\"xs\" class=\"icon\" /> </span>\n          <span class=\"fake-link\" aria-hidden=\"true\" v-show=\"!showHistoricRetries\"><FAIcon :icon=\"faAngleRight\" size=\"xs\" class=\"icon\" /> </span>\n          <a class=\"lastTenHeading\" v-on:click=\"showHistoricRetries = !showHistoricRetries\"> Last 10 completed retry requests</a>\n        </h6>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-sm-12 no-mobile-side-padding\" v-show=\"showHistoricRetries\">\n        <no-data v-if=\"historicOperations.length === 0\" title=\"message group retries\" message=\"No group retry requests have ever been completed\"></no-data>\n        <div class=\"row box extra-box-padding repeat-modify\" v-for=\"(group, index) in historicOperations\" :key=\"index\" v-show=\"historicOperations.length\">\n          <div class=\"col-sm-12 no-mobile-side-padding\">\n            <div class=\"row\">\n              <div class=\"col-sm-12 no-side-padding\">\n                <div class=\"row box-header\">\n                  <div class=\"col-sm-12 no-side-padding\">\n                    <p class=\"lead break\">{{ group.originator || \"Selection of individual message(s)\" }}</p>\n                  </div>\n                </div>\n\n                <div class=\"row\">\n                  <div class=\"col-sm-12 no-side-padding\">\n                    <p class=\"metadata\">\n                      <span class=\"metadata\"><FAIcon :icon=\"faEnvelope\" class=\"icon\" /> Messages sent: {{ group.number_of_messages_processed }} </span>\n                      <span class=\"metadata\">\n                        <FAIcon :icon=\"faClock\" class=\"icon\" /> Retry request started:\n                        <time-since :date-utc=\"group.start_time\"></time-since>\n                      </span>\n                      <span class=\"metadata\">\n                        <FAIcon :icon=\"faClock\" class=\"icon\" /> Retry request completed:\n                        <time-since :date-utc=\"group.completion_time\"></time-since>\n                      </span>\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <span class=\"short-group-history\" v-show=\"historicOperations.length === 1\">There is only {{ historicOperations.length }} completed group retry</span>\n        <span class=\"short-group-history\" v-show=\"historicOperations.length < 10 && historicOperations.length > 1\">There are only {{ historicOperations.length }} completed group retries</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.fake-link i {\n  padding-right: 0.2em;\n}\n\n.lasttenoperations {\n  padding-bottom: 2em;\n}\n\n.lasttenoperations > div > div > h6 {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n\n.lastTenHeading {\n  color: var(--sp-blue);\n}\n\n.icon {\n  color: var(--reduced-emphasis);\n}\n</style>\n","<script setup lang=\"ts\">\nimport { onMounted, onUnmounted, ref } from \"vue\";\n\nconst emit = defineEmits([\"createNoteConfirmed\", \"editNoteConfirmed\", \"cancelEditNote\"]);\n\ninterface GroupComment {\n  groupid: string;\n  comment?: string;\n}\n\nconst settings = defineProps<GroupComment>();\nconst grpcomment = ref(settings.comment);\n\nfunction createNote() {\n  const updatedGroup = {\n    groupid: settings.groupid,\n    comment: grpcomment.value,\n  };\n  emit(\"createNoteConfirmed\", updatedGroup);\n}\n\nfunction editNote() {\n  const updatedGroup = {\n    groupid: settings.groupid,\n    comment: grpcomment.value,\n  };\n  emit(\"editNoteConfirmed\", updatedGroup);\n}\n\nfunction close() {\n  emit(\"cancelEditNote\");\n}\n\nonUnmounted(() => {\n  // Must remove the class again once the modal is dismissed\n  document.getElementsByTagName(\"body\")[0].className = \"\";\n});\n\nonMounted(() => {\n  // Add the `modal-open` class to the body tag\n  document.getElementsByTagName(\"body\")[0].className = \"modal-open\";\n});\n</script>\n\n<template>\n  <div class=\"modal-mask\">\n    <div class=\"modal-wrapper\">\n      <div class=\"modal-container\">\n        <div class=\"modal-header\">\n          <h3 class=\"modal-title\" v-if=\"settings.comment\">Modify Note</h3>\n          <h3 class=\"modal-title\" v-if=\"!settings.comment\">Create Note</h3>\n        </div>\n\n        <form name=\"commentNoteForm\" novalidate>\n          <div class=\"modal-body\">\n            <div class=\"row\">\n              <div class=\"form-group\">\n                <label for=\"comment\">Note</label>\n                <textarea type=\"text\" id=\"txtcomment\" name=\"txtcomment\" v-model.trim=\"grpcomment\" placeholder=\"Comment\" :minInputLength=\"1\" class=\"form-control\" required></textarea>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button v-if=\"settings.comment\" :disabled=\"!grpcomment\" class=\"btn btn-primary\" @click=\"editNote\">Modify</button>\n            <button v-if=\"!settings.comment\" :disabled=\"!grpcomment\" class=\"btn btn-primary\" @click=\"createNote\">Create</button>\n            <button class=\"btn btn-default\" @click=\"close\">Cancel</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n@import \"@/components/modal.css\";\n</style>\n","<script setup lang=\"ts\">\nimport { faArrowRight, faCheck } from \"@fortawesome/free-solid-svg-icons\";\nimport FAIcon from \"@/components/FAIcon.vue\";\n\nconst props = defineProps<{\n  \"left-to-do\": boolean;\n  active: boolean;\n  completed: boolean;\n}>();\n</script>\n\n<template>\n  <li class=\"progress-status\" :class=\"props\">\n    <FAIcon v-if=\"active\" :icon=\"faArrowRight\" class=\"icon\" />\n    <FAIcon v-if=\"completed\" :icon=\"faCheck\" class=\"icon\" />\n    <div class=\"slot\">\n      <slot />\n    </div>\n  </li>\n</template>\n\n<style scoped>\n.progress-status {\n  display: flex;\n  align-items: center;\n  margin-bottom: 6px;\n}\n\n.slot {\n  flex: 1;\n}\n\n.progress-status.active {\n  color: #fff;\n}\n\n.progress-status.leftToDo,\n.progress-status.completed {\n  color: #b0b5b5;\n}\n\n.progress-status.leftToDo {\n  margin-left: 15px;\n}\n\n.icon {\n  margin-right: 3px;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { onMounted, onUnmounted, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { useShowToast } from \"../../composables/toast\";\nimport createMessageGroupClient from \"./messageGroupClient\";\nimport NoData from \"../NoData.vue\";\nimport TimeSince from \"../TimeSince.vue\";\nimport FailedMessageGroupNoteEdit from \"./FailedMessageGroupNoteEdit.vue\";\nimport ConfirmDialog from \"../ConfirmDialog.vue\";\nimport routeLinks from \"@/router/routeLinks\";\nimport { TYPE } from \"vue-toastification\";\nimport GroupOperation from \"@/resources/GroupOperation\";\nimport FAIcon from \"@/components/FAIcon.vue\";\nimport { faArrowRotateRight, faEnvelope, faEraser, faExclamationTriangle, faPencil, faStickyNote, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { faClock } from \"@fortawesome/free-regular-svg-icons\";\nimport ProgressMessage from \"./ProgressMessage.vue\";\nimport ActionButton from \"@/components/ActionButton.vue\";\n\ninterface WorkflowState {\n  status: string;\n  total?: number;\n  failed?: boolean;\n  message?: string;\n}\n\ninterface ExtendedGroupOperation extends GroupOperation {\n  index: number;\n  hover2?: boolean;\n  hover3?: boolean;\n  workflow_state: WorkflowState;\n  operation_remaining_count?: number;\n  operation_start_time?: string;\n}\n\nconst emit = defineEmits<{\n  InitialLoadComplete: [];\n  ExceptionGroupCountUpdated: [number];\n}>();\n\nlet pollingFaster = false;\nlet refreshInterval: number | undefined = undefined;\nconst props = defineProps<{\n  sortFunction: (a: GroupOperation, b: GroupOperation) => number;\n}>();\nconst router = useRouter();\nlet groupsWithNotesAdded: {\n  groupId: string;\n  comment: string;\n  alreadySaved?: boolean;\n}[] = [];\nlet savedGroupBy: string | undefined = undefined;\n\nconst selectedGroup = ref<ExtendedGroupOperation>();\n\nconst exceptionGroups = ref<ExtendedGroupOperation[]>([]);\nconst loadingData = ref(true);\nconst initialLoadComplete = ref(false);\nconst showDeleteNoteModal = ref(false);\nconst showEditNoteModal = ref(false);\nconst showDeleteGroupModal = ref(false);\nconst showRetryGroupModal = ref(false);\nconst noteSaveSuccessful = ref<boolean | null>(null);\nconst groupDeleteSuccessful = ref<boolean | null>(null);\nconst groupRetrySuccessful = ref<boolean | null>(null);\n\nconst messageGroupClient = createMessageGroupClient();\n\nasync function getExceptionGroups(classifier?: string) {\n  const result = await messageGroupClient.getExceptionGroups(classifier);\n  if (props.sortFunction) {\n    result.sort(props.sortFunction);\n  }\n\n  groupsWithNotesAdded.forEach((note) => {\n    const groupFromSC = result.find((group) => {\n      return group.id === note.groupId;\n    });\n    if (groupFromSC && !groupFromSC.comment) {\n      groupFromSC.comment = note.comment;\n    } else {\n      note.alreadySaved = true;\n    }\n  });\n\n  // need a map in some ui state for controlling animations\n  exceptionGroups.value = result.map(initializeGroupState);\n\n  groupsWithNotesAdded = groupsWithNotesAdded.filter((note) => !note.alreadySaved);\n}\n\nfunction initializeGroupState(group: GroupOperation, index: number): ExtendedGroupOperation {\n  let operationStatus = (group.operation_status ? group.operation_status.toLowerCase() : null) || \"none\";\n  if (operationStatus === \"preparing\" && group.operation_progress === 1) {\n    operationStatus = \"queued\";\n  }\n  return {\n    ...group,\n    workflow_state: createWorkflowState(operationStatus, group.operation_progress, group.operation_failed),\n    index,\n  };\n}\n\nasync function loadFailedMessageGroups(groupBy?: string) {\n  loadingData.value = true;\n\n  if (groupBy) {\n    savedGroupBy = groupBy;\n  }\n\n  await getExceptionGroups(savedGroupBy);\n  loadingData.value = false;\n  initialLoadComplete.value = true;\n\n  emit(\"InitialLoadComplete\");\n}\n\n//delete comment note\nfunction deleteNote(group: ExtendedGroupOperation) {\n  noteSaveSuccessful.value = null;\n  selectedGroup.value = group;\n  showDeleteNoteModal.value = true;\n}\n\nasync function saveDeleteNote(group?: GroupOperation, hideToastMessage?: boolean) {\n  showDeleteNoteModal.value = false;\n\n  if (group) {\n    const result = await messageGroupClient.deleteNote(group.id);\n    if (messageGroupClient.isError(result)) {\n      noteSaveSuccessful.value = false;\n      if (!hideToastMessage) {\n        useShowToast(TYPE.ERROR, \"Error\", `Failed to delete a Note: ${result.message}`);\n      }\n    } else {\n      noteSaveSuccessful.value = true;\n      if (!hideToastMessage) {\n        useShowToast(TYPE.INFO, \"Info\", \"Note deleted successfully\");\n      }\n\n      loadFailedMessageGroups(); //reload the groups\n    }\n  }\n}\n\n// create comment note\nasync function saveNote(group: GroupOperation, comment: string) {\n  noteSaveSuccessful.value = null;\n  showEditNoteModal.value = false;\n\n  groupsWithNotesAdded.push({ groupId: group.id, comment: comment });\n\n  const result = await messageGroupClient.editOrCreateNote(group.id, comment);\n  if (messageGroupClient.isError(result)) {\n    noteSaveSuccessful.value = false;\n    useShowToast(TYPE.ERROR, \"Error\", `Failed to update Note: ${result.message}`);\n  } else {\n    noteSaveSuccessful.value = true;\n    useShowToast(TYPE.INFO, \"Info\", \"Note updated successfully\");\n    loadFailedMessageGroups(); //reload the groups\n  }\n}\n\nfunction saveCreatedNote(group: ExtendedGroupOperation, comment: string) {\n  saveNote(group, comment);\n}\n\nfunction saveEditedNote(group: ExtendedGroupOperation, comment: string) {\n  saveNote(group, comment);\n}\n\nfunction editNote(group: ExtendedGroupOperation) {\n  noteSaveSuccessful.value = null;\n  selectedGroup.value = group;\n  showEditNoteModal.value = true;\n}\n\n//delete a group\nconst statusesForArchiveOperation = [\"archivestarted\", \"archiveprogressing\", \"archivefinalizing\", \"archivecompleted\"];\nfunction deleteGroup(group: ExtendedGroupOperation) {\n  groupDeleteSuccessful.value = null;\n  selectedGroup.value = group;\n  showDeleteGroupModal.value = true;\n}\n\nasync function saveDeleteGroup(group?: ExtendedGroupOperation) {\n  showDeleteGroupModal.value = false;\n  if (group) {\n    group.workflow_state = { status: \"archivestarted\", message: \"Delete request initiated...\" };\n\n    // We've started a delete, so increase the polling frequency\n    changeRefreshInterval(1000);\n\n    saveDeleteNote(group, true); // delete comment note when group is archived\n    const result = await messageGroupClient.archiveExceptionGroup(group.id);\n    if (messageGroupClient.isError(result)) {\n      groupDeleteSuccessful.value = false;\n      useShowToast(TYPE.ERROR, \"Error\", `Failed to delete the group: ${result.message}`);\n    } else {\n      groupDeleteSuccessful.value = true;\n      useShowToast(TYPE.INFO, \"info\", \"Group delete started...\");\n    }\n  }\n}\n\n//create workflow state\nfunction createWorkflowState(optionalStatus?: string, optionalTotal?: number, optionalFailed?: boolean) {\n  if (optionalTotal && optionalTotal <= 1) {\n    optionalTotal = optionalTotal * 100;\n  }\n  return {\n    status: optionalStatus || \"working\",\n    total: Math.round(optionalTotal || 0),\n    failed: optionalFailed || false,\n  };\n}\n\n//getClasses\nconst getClasses = function (stepStatus: string, currentStatus: string, statusArray: string[]) {\n  const indexOfStep = statusArray.indexOf(stepStatus);\n  const indexOfCurrent = statusArray.indexOf(currentStatus);\n  return {\n    \"left-to-do\": indexOfStep > indexOfCurrent,\n    active: indexOfStep === indexOfCurrent,\n    completed: indexOfStep < indexOfCurrent,\n  };\n};\n\n//getClassesForArchiveOperation\nfunction getClassesForArchiveOperation(stepStatus: string, currentStatus: string) {\n  return getClasses(stepStatus, currentStatus, statusesForArchiveOperation);\n}\n\n//Retry operation\nfunction retryGroup(group: ExtendedGroupOperation) {\n  groupRetrySuccessful.value = null;\n  selectedGroup.value = group;\n  showRetryGroupModal.value = true;\n}\n\nasync function saveRetryGroup(group?: ExtendedGroupOperation) {\n  showRetryGroupModal.value = false;\n  if (group) {\n    group.workflow_state = { status: \"waiting\", message: \"Retry Group Request Enqueued...\" };\n\n    // We've started a retry, so increase the polling frequency\n    changeRefreshInterval(1000);\n\n    saveDeleteNote(group, true);\n    const result = await messageGroupClient.retryExceptionGroup(group.id);\n    if (messageGroupClient.isError(result)) {\n      groupRetrySuccessful.value = false;\n      useShowToast(TYPE.ERROR, \"Error\", `Failed to retry the group: ${result.message}`);\n    } else groupRetrySuccessful.value = true;\n  }\n}\n\nconst statusesForRetryOperation = [\"waiting\", \"preparing\", \"queued\", \"forwarding\"];\nfunction getClassesForRetryOperation(stepStatus: string, currentStatus: string) {\n  if (currentStatus === \"queued\") {\n    currentStatus = \"forwarding\";\n  }\n  return getClasses(stepStatus, currentStatus, statusesForRetryOperation);\n}\n\nconst acknowledgeGroup = async function (group: GroupOperation) {\n  const result = await messageGroupClient.acknowledgeArchiveGroup(group.id);\n  if (messageGroupClient.isError(result)) useShowToast(TYPE.ERROR, \"Error\", `Acknowledging Group Failed: ${result.message}`);\n  else {\n    if (group.operation_status === \"ArchiveCompleted\") {\n      useShowToast(TYPE.INFO, \"Info\", \"Group deleted successfully\");\n    } else {\n      useShowToast(TYPE.INFO, \"Info\", \"Group retried successfully\");\n    }\n    loadFailedMessageGroups(); //reload the groups\n  }\n};\n\nfunction isBeingArchived(status: string) {\n  return status === \"archivestarted\" || status === \"archiveprogressing\" || status === \"archivefinalizing\" || status === \"archivecompleted\";\n}\n\nfunction isBeingRetried(group: ExtendedGroupOperation) {\n  return group.workflow_state.status !== \"none\" && (group.workflow_state.status !== \"completed\" || group.need_user_acknowledgement === true) && !isBeingArchived(group.workflow_state.status);\n}\n\nfunction clearInMemoryData() {\n  groupsWithNotesAdded = [];\n}\n\nfunction navigateToGroup(groupId: string) {\n  router.push(routeLinks.failedMessage.group.link(groupId));\n}\n\nfunction isRetryOrDeleteOperationInProgress() {\n  return exceptionGroups.value.some((group) => group.operation_status !== \"None\" && group.operation_status !== \"ArchiveCompleted\" && group.operation_status !== \"Completed\");\n}\n\nfunction changeRefreshInterval(milliseconds: number) {\n  if (refreshInterval) {\n    clearInterval(refreshInterval);\n  }\n\n  refreshInterval = window.setInterval(() => {\n    // If we're currently polling at 5 seconds and there is a retry or delete in progress, then change the polling interval to poll every 1 second\n    if (!pollingFaster && isRetryOrDeleteOperationInProgress()) {\n      changeRefreshInterval(1000);\n      pollingFaster = true;\n    } else if (pollingFaster && !isRetryOrDeleteOperationInProgress()) {\n      // if we're currently polling every 1 second but all retries or deletes are done, change polling frequency back to every 5 seconds\n      changeRefreshInterval(5000);\n      pollingFaster = false;\n    }\n\n    loadFailedMessageGroups();\n  }, milliseconds);\n}\n\nonUnmounted(() => {\n  if (refreshInterval) {\n    clearInterval(refreshInterval);\n  }\n});\n\nonMounted(() => {\n  // Initialize the poll interval to 5 seconds\n  changeRefreshInterval(5000);\n});\n\nexport interface IMessageGroupList {\n  loadFailedMessageGroups(groupBy?: string): Promise<void>;\n  clearInMemoryData(): void;\n}\n\ndefineExpose<IMessageGroupList>({\n  loadFailedMessageGroups,\n  clearInMemoryData,\n});\n</script>\n\n<template>\n  <div class=\"messagegrouplist\">\n    <div class=\"row\">\n      <div class=\"col-sm-12\">\n        <no-data v-if=\"exceptionGroups.length === 0 && !loadingData\" title=\"message groups\" message=\"There are currently no grouped message failures\"></no-data>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-sm-12 no-mobile-side-padding\">\n        <div v-if=\"exceptionGroups.length > 0\">\n          <div\n            :class=\"`row box box-group wf-${group.workflow_state.status} failed-message-group repeat-modify`\"\n            v-for=\"(group, index) in exceptionGroups\"\n            :key=\"index\"\n            :disabled=\"group.count == 0\"\n            @mouseenter=\"group.hover2 = true\"\n            @mouseleave=\"group.hover2 = false\"\n            @click=\"navigateToGroup(group.id)\"\n          >\n            <div class=\"col-sm-12 no-mobile-side-padding\">\n              <div class=\"row\">\n                <div class=\"col-sm-12 no-side-padding\">\n                  <div class=\"row box-header\">\n                    <div class=\"col-sm-12 no-side-padding\">\n                      <p class=\"lead break\" :class=\"{ 'msg-type-hover': group.hover2, 'msg-type-hover-off': group.hover3 }\">{{ group.title }}</p>\n                      <p class=\"metadata\" v-if=\"!isBeingRetried(group) && !isBeingArchived(group.workflow_state.status)\">\n                        <span class=\"metadata\">\n                          <FAIcon class=\"icon\" :icon=\"faEnvelope\" />\n                          {{ group.count }} message<span v-if=\"group.count > 1\">s</span>\n                          <span v-if=\"group.operation_remaining_count\"> (currently retrying {{ group.operation_remaining_count }} </span>\n                        </span>\n\n                        <span class=\"metadata\">\n                          <FAIcon class=\"icon\" :icon=\"faClock\" />\n                          First failed:\n                          <time-since :date-utc=\"group.first\"></time-since>\n                        </span>\n\n                        <span class=\"metadata\">\n                          <FAIcon class=\"icon\" :icon=\"faClock\" />\n                          Last failed:\n                          <time-since :date-utc=\"group.last\"></time-since>\n                        </span>\n\n                        <span class=\"metadata\">\n                          <FAIcon class=\"icon\" :icon=\"faArrowRotateRight\" />\n                          Last retried:\n                          <time-since :date-utc=\"group.operation_completion_time\"></time-since>\n                        </span>\n                      </p>\n                    </div>\n                  </div>\n\n                  <div class=\"row\" v-if=\"!isBeingRetried(group) && !isBeingArchived(group.workflow_state.status)\">\n                    <div class=\"col-sm-12 no-side-padding\">\n                      <div class=\"note\" v-if=\"group.comment\">\n                        <span> <strong>NOTE:</strong> {{ group.comment }} </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"row\" v-if=\"!isBeingRetried(group) && !isBeingArchived(group.workflow_state.status)\">\n                    <div class=\"col-sm-12 no-side-padding\">\n                      <ActionButton\n                        variant=\"link\"\n                        size=\"sm\"\n                        :icon=\"faArrowRotateRight\"\n                        :disabled=\"group.count == 0 || isBeingRetried(group)\"\n                        @mouseenter=\"group.hover3 = true\"\n                        @mouseleave=\"group.hover3 = false\"\n                        v-if=\"exceptionGroups.length > 0\"\n                        @click.stop=\"retryGroup(group)\"\n                      >\n                        <span>Request retry</span>\n                      </ActionButton>\n\n                      <ActionButton\n                        variant=\"link\"\n                        size=\"sm\"\n                        :icon=\"faTrash\"\n                        :disabled=\"group.count == 0 || isBeingRetried(group)\"\n                        @mouseenter=\"group.hover3 = true\"\n                        @mouseleave=\"group.hover3 = false\"\n                        v-if=\"exceptionGroups.length > 0\"\n                        @click.stop=\"deleteGroup(group)\"\n                      >\n                        <span>Delete group</span>\n                      </ActionButton>\n                      <ActionButton variant=\"link\" size=\"sm\" :icon=\"faStickyNote\" v-if=\"!group.comment\" @click.stop=\"editNote(group)\">Add note</ActionButton>\n                      <ActionButton variant=\"link\" size=\"sm\" :icon=\"faPencil\" v-if=\"group.comment\" @click.stop=\"editNote(group)\">Edit note</ActionButton>\n                      <ActionButton variant=\"link\" size=\"sm\" :icon=\"faEraser\" v-if=\"group.comment\" @click.stop=\"deleteNote(group)\">Remove note</ActionButton>\n                    </div>\n                  </div>\n\n                  <!--isBeingRetried-->\n                  <div class=\"row\" v-if=\"isBeingRetried(group)\">\n                    <div class=\"col-sm-12 no-side-padding\">\n                      <div class=\"panel panel-default panel-retry\">\n                        <div class=\"panel-body\">\n                          <ul class=\"retry-request-progress\">\n                            <ProgressMessage v-if=\"group.workflow_state.status !== 'completed'\" v-bind=\"getClassesForRetryOperation('waiting', group.workflow_state.status)\">Initialize retry request...</ProgressMessage>\n                            <ProgressMessage v-if=\"group.workflow_state.status !== 'completed'\" v-bind=\"getClassesForRetryOperation('preparing', group.workflow_state.status)\" class=\"inset\">\n                              <div class=\"row\">\n                                <div class=\"col-xs-12 col-sm-4 col-md-3 no-side-padding\">\n                                  <span class=\"bulk-retry-progress-status\">Prepare messages...</span>\n                                </div>\n\n                                <div class=\"col-xs-12 col-sm-6\">\n                                  <div class=\"progress bulk-retry-progress\" v-if=\"group.workflow_state.status === 'preparing'\">\n                                    <div\n                                      class=\"progress-bar progress-bar-striped active\"\n                                      role=\"progressbar\"\n                                      aria-valuenow=\"{{group.workflow_state.total}}\"\n                                      aria-valuemin=\"0\"\n                                      aria-valuemax=\"100\"\n                                      :style=\"{ 'min-width': '2em', width: group.workflow_state.total + '%' }\"\n                                    >\n                                      {{ group.workflow_state.total }}%\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </ProgressMessage>\n                            <ProgressMessage v-if=\"group.workflow_state.status !== 'completed'\" v-bind=\"getClassesForRetryOperation('forwarding', group.workflow_state.status)\" class=\"inset\">\n                              <div class=\"row\">\n                                <div class=\"col-xs-9 col-sm-4 col-md-3 no-side-padding\">\n                                  <div class=\"bulk-retry-progress-status\">Send messages to retry...</div>\n                                </div>\n                                <div class=\"col-xs-3 col-sm-3 retry-op-queued\" v-if=\"group.workflow_state.status === 'queued'\">(Queued)</div>\n                                <div class=\"col-xs-12 col-sm-6\">\n                                  <div class=\"progress bulk-retry-progress\" v-if=\"group.workflow_state.status === 'forwarding'\">\n                                    <div\n                                      class=\"progress-bar progress-bar-striped active\"\n                                      role=\"progressbar\"\n                                      aria-valuenow=\"{{group.workflow_state.total}}\"\n                                      aria-valuemin=\"0\"\n                                      aria-valuemax=\"100\"\n                                      :style=\"{ 'min-width': '2em', width: group.workflow_state.total + '%' }\"\n                                    >\n                                      {{ group.workflow_state.total }}%\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </ProgressMessage>\n                            <ProgressMessage v-if=\"group.workflow_state.status === 'completed'\" v-bind=\"{ 'left-to-do': false, active: false, completed: false }\">\n                              <div class=\"retry-completed bulk-retry-progress-status\">Retry request completed</div>\n                              <button type=\"button\" class=\"btn btn-default btn-primary btn-xs btn-retry-dismiss\" v-if=\"group.need_user_acknowledgement == true\" @click.stop=\"acknowledgeGroup(group)\">Dismiss</button>\n                              <div class=\"danger sc-restart-warning\" v-if=\"group.workflow_state.failed\">\n                                <FAIcon :icon=\"faExclamationTriangle\" class=\"icon danger\" /> <strong>WARNING: </strong>Not all messages will be retried because ServiceControl had to restart. You need to request retrying the remaining messages.\n                              </div>\n                            </ProgressMessage>\n                          </ul>\n\n                          <div class=\"op-metadata\">\n                            <span class=\"metadata\"> <FAIcon :icon=\"faEnvelope\" class=\"icon\" /> {{ group.workflow_state.status === \"completed\" ? \"Messages sent:\" : \"Messages to send:\" }} {{ group.operation_remaining_count || group.count }} </span>\n                            <span class=\"metadata\"><FAIcon :icon=\"faClock\" class=\"icon\" /> Retry request started: <time-since :date-utc=\"group.operation_start_time\"></time-since></span>\n                            <span class=\"metadata\" v-if=\"group.workflow_state.status === 'completed'\"><FAIcon :icon=\"faClock\" class=\"icon\" /> Retry request completed: <time-since :date-utc=\"group.operation_completion_time\"></time-since></span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <!--isBeingArchived-->\n                  <div class=\"row\" v-if=\"isBeingArchived(group.workflow_state.status)\">\n                    <div class=\"col-sm-12 no-side-padding\">\n                      <div class=\"panel panel-default panel-retry\">\n                        <div class=\"panel-body\">\n                          <ul class=\"retry-request-progress\">\n                            <li v-if=\"group.workflow_state.status !== 'archivecompleted'\" v-bind:class=\"getClassesForArchiveOperation('archivestarted', group.workflow_state.status)\">\n                              <div class=\"bulk-retry-progress-status\">Initialize delete request...</div>\n                            </li>\n                            <li v-if=\"group.workflow_state.status !== 'archivecompleted'\" v-bind:class=\"getClassesForArchiveOperation('archiveprogressing', group.workflow_state.status)\">\n                              <div class=\"row\">\n                                <div class=\"col-xs-12 col-sm-4 col-md-3 no-side-padding\">\n                                  <div class=\"bulk-retry-progress-status\">Delete request in progress...</div>\n                                </div>\n                                <div class=\"col-xs-12 col-sm-6\">\n                                  <div class=\"progress bulk-retry-progress\" v-if=\"group.workflow_state.status === 'archiveprogressing'\">\n                                    <div\n                                      class=\"progress-bar progress-bar-striped active\"\n                                      role=\"progressbar\"\n                                      aria-valuenow=\"{{group.workflow_state.total}}\"\n                                      aria-valuemin=\"0\"\n                                      aria-valuemax=\"100\"\n                                      :style=\"{ 'min-width': '2em', width: group.workflow_state.total + '%' }\"\n                                    >\n                                      {{ group.workflow_state.total }} %\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </li>\n                            <li v-if=\"group.workflow_state.status !== 'archivecompleted'\" v-bind:class=\"getClassesForArchiveOperation('archivefinalizing', group.workflow_state.status)\">\n                              <div class=\"row\">\n                                <div class=\"col-xs-12 col-sm-4 col-md-3 no-side-padding\">\n                                  <div class=\"bulk-retry-progress-status\">Cleaning up...</div>\n                                </div>\n                              </div>\n                            </li>\n                            <li v-if=\"group.workflow_state.status === 'archivecompleted'\">\n                              <div class=\"retry-completed bulk-retry-progress-status\">Delete request completed</div>\n                              <button type=\"button\" class=\"btn btn-default btn-primary btn-xs btn-retry-dismiss\" v-if=\"group.need_user_acknowledgement == true\" @click.stop=\"acknowledgeGroup(group)\">Dismiss</button>\n                            </li>\n                          </ul>\n\n                          <div class=\"op-metadata\">\n                            <span class=\"metadata\">\n                              <FAIcon :icon=\"faClock\" class=\"icon\" />\n                              Delete request started: <time-since :date-utc=\"group.operation_start_time\"></time-since>\n                            </span>\n                            <span class=\"metadata\">\n                              <FAIcon :icon=\"faEnvelope\" class=\"icon\" />\n                              Messages left to delete:\n                              {{ group.operation_remaining_count || 0 }}\n                            </span>\n                            <span class=\"metadata\">\n                              <FAIcon :icon=\"faEnvelope\" class=\"icon\" />\n                              Messages deleted:\n                              {{ group.operation_messages_completed_count || 0 }}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!--modal display - create new/edit comment note-->\n  <Teleport to=\"#modalDisplay\">\n    <FailedMessageGroupNoteEdit\n      v-if=\"showEditNoteModal === true && selectedGroup\"\n      :groupid=\"selectedGroup.id\"\n      :comment=\"selectedGroup.comment\"\n      @cancelEditNote=\"showEditNoteModal = false\"\n      @createNoteConfirmed=\"saveCreatedNote(selectedGroup, $event.comment)\"\n      @editNoteConfirmed=\"saveEditedNote(selectedGroup, $event.comment)\"\n    ></FailedMessageGroupNoteEdit>\n  </Teleport>\n\n  <!--modal display - delete group-->\n  <Teleport to=\"#modalDisplay\">\n    <ConfirmDialog\n      v-if=\"showDeleteGroupModal\"\n      @cancel=\"showDeleteGroupModal = false\"\n      @confirm=\"\n        showDeleteGroupModal = false;\n        saveDeleteGroup(selectedGroup);\n      \"\n      :heading=\"'Are you sure you want to delete this group?'\"\n      :body=\"'Messages that are deleted will be cleaned up according to the ServiceControl retention policy, and aren\\'t available for retrying unless they\\'re restored.'\"\n    ></ConfirmDialog>\n\n    <ConfirmDialog\n      v-if=\"showRetryGroupModal\"\n      @cancel=\"showRetryGroupModal = false\"\n      @confirm=\"\n        showRetryGroupModal = false;\n        saveRetryGroup(selectedGroup);\n      \"\n      :heading=\"'Are you sure you want to retry this group?'\"\n      :body=\"`Retrying a whole group can take some time and put extra load on your system. Are you sure you want to retry this group of ${selectedGroup?.count ?? 0} messages?`\"\n    ></ConfirmDialog>\n\n    <ConfirmDialog\n      v-if=\"showDeleteNoteModal\"\n      @cancel=\"showDeleteNoteModal = false\"\n      @confirm=\"\n        showDeleteNoteModal = false;\n        saveDeleteNote(selectedGroup);\n      \"\n      :heading=\"'Are you sure you want to delete this note?'\"\n      :body=\"`Deleted note will not be available.`\"\n    ></ConfirmDialog>\n  </Teleport>\n</template>\n\n<style scoped>\n@import \"../list.css\";\n@import \"./failedmessages.css\";\n\ndiv.col-xs-3.col-sm-3.retry-op-queued {\n  color: #b0b5b5 !important;\n}\n\ndiv.progress-bar.progress-bar-striped.active {\n  color: #fff !important;\n}\n\n.fake-link i {\n  padding-right: 0.2em;\n}\n\n.toolbar-menus > .msg-group-menu {\n  margin: 0;\n}\n\n.inset {\n  padding-left: 13px;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { onMounted, ref, useTemplateRef } from \"vue\";\nimport { useCookies } from \"vue3-cookies\";\nimport LicenseNotExpired from \"../../components/LicenseNotExpired.vue\";\nimport ServiceControlAvailable from \"../ServiceControlAvailable.vue\";\nimport LastTenOperations from \"../failedmessages/LastTenOperations.vue\";\nimport MessageGroupList, { IMessageGroupList } from \"../failedmessages/MessageGroupList.vue\";\nimport OrderBy from \"@/components/OrderBy.vue\";\nimport SortOptions, { SortDirection } from \"@/resources/SortOptions\";\nimport GroupOperation from \"@/resources/GroupOperation\";\nimport getSortFunction from \"@/components/getSortFunction\";\nimport { faArrowDownAZ, faArrowDownZA, faArrowDownShortWide, faArrowDownWideShort, faArrowDown19, faArrowDown91 } from \"@fortawesome/free-solid-svg-icons\";\nimport { useServiceControlStore } from \"@/stores/ServiceControlStore\";\n\nconst serviceControlStore = useServiceControlStore();\n\nconst selectedClassifier = ref<string>(\"\");\nconst classifiers = ref<string[]>([]);\nconst messageGroupList = useTemplateRef<IMessageGroupList>(\"messageGroupList\");\nconst sortMethod = ref<SortOptions<GroupOperation>[\"sort\"]>();\n\nfunction sortGroups(sort: SortOptions<GroupOperation>) {\n  sortMethod.value = sort.sort ?? getSortFunction(sort.selector, SortDirection.Ascending);\n\n  // force a re-render of the messagegroup list\n  messageGroupList.value?.loadFailedMessageGroups();\n}\n\nconst sortOptions: SortOptions<GroupOperation>[] = [\n  {\n    description: \"Name\",\n    selector: (group) => group.title,\n    iconAsc: faArrowDownAZ,\n    iconDesc: faArrowDownZA,\n  },\n  {\n    description: \"Number of messages\",\n    selector: (group) => group.count,\n    iconAsc: faArrowDown19,\n    iconDesc: faArrowDown91,\n  },\n  {\n    description: \"First Failed Time\",\n    selector: (group) => group.first!,\n    iconAsc: faArrowDownShortWide,\n    iconDesc: faArrowDownWideShort,\n  },\n  {\n    description: \"Last Failed Time\",\n    selector: (group) => group.last!,\n    iconAsc: faArrowDownShortWide,\n    iconDesc: faArrowDownWideShort,\n  },\n  {\n    description: \"Last Retried Time\",\n    selector: (group) => group.last_operation_completion_time!,\n    iconAsc: faArrowDownShortWide,\n    iconDesc: faArrowDownWideShort,\n  },\n];\n\nasync function getGroupingClassifiers() {\n  const [, data] = await serviceControlStore.fetchTypedFromServiceControl<string[]>(\"recoverability/classifiers\");\n  classifiers.value = data;\n}\n\nfunction saveDefaultGroupingClassifier(classifier: string) {\n  const cookies = useCookies().cookies;\n  cookies.set(\"failed_groups_classification\", classifier);\n}\n\nfunction classifierChanged(classifier: string) {\n  selectedClassifier.value = classifier;\n  saveDefaultGroupingClassifier(classifier);\n  messageGroupList.value?.loadFailedMessageGroups(classifier);\n}\n\nfunction loadDefaultGroupingClassifier() {\n  const cookies = useCookies().cookies;\n  const cookieGrouping = cookies.get(\"failed_groups_classification\");\n\n  if (cookieGrouping) {\n    return cookieGrouping;\n  }\n\n  return null;\n}\n\nonMounted(async () => {\n  await getGroupingClassifiers();\n  let savedClassifier = loadDefaultGroupingClassifier();\n\n  if (!savedClassifier) {\n    savedClassifier = classifiers.value[0];\n  }\n\n  selectedClassifier.value = savedClassifier;\n  messageGroupList.value?.loadFailedMessageGroups(savedClassifier);\n});\n</script>\n\n<template>\n  <ServiceControlAvailable>\n    <LicenseNotExpired>\n      <section name=\"message_groups\">\n        <LastTenOperations></LastTenOperations>\n        <div class=\"row\">\n          <div class=\"col-6 list-section\">\n            <h3>Failed message group</h3>\n          </div>\n          <div class=\"col-6 toolbar-menus no-side-padding\">\n            <div class=\"msg-group-menu dropdown\">\n              <label class=\"control-label\">Group by:</label>\n              <button type=\"button\" class=\"btn btn-default dropdown-toggle sp-btn-menu\" data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{ selectedClassifier }}\n                <span class=\"caret\"></span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li v-for=\"(classifier, index) in classifiers\" :key=\"index\">\n                  <a @click.prevent=\"classifierChanged(classifier)\">{{ classifier }}</a>\n                </li>\n              </ul>\n            </div>\n            <OrderBy @sort-updated=\"sortGroups\" :sortOptions=\"sortOptions\"></OrderBy>\n          </div>\n        </div>\n        <div class=\"box-container\" v-if=\"sortMethod\">\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <div class=\"list-section\">\n                <div class=\"col-12 form-group\">\n                  <MessageGroupList :sortFunction=\"sortMethod\" ref=\"messageGroupList\"></MessageGroupList>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </LicenseNotExpired>\n  </ServiceControlAvailable>\n</template>\n\n<style scoped>\n.dropdown > button:hover {\n  background: none;\n  border: none;\n  color: var(--sp-blue);\n  text-decoration: underline;\n}\n</style>\n"],"names":["historicOperations","ref","showHistoricRetries","serviceControlStore","useServiceControlStore","getHistoricOperations","data","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_withDirectives","_hoisted_4","_createVNode","FAIcon","_unref","faAngleDown","_hoisted_5","faAngleRight","_cache","$event","_hoisted_6","_hoisted_7","_createBlock","NoData","_Fragment","_renderList","group","index","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_toDisplayString","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","faEnvelope","_hoisted_18","faClock","TimeSince","_hoisted_19","_vShow","emit","__emit","settings","__props","grpcomment","createNote","updatedGroup","editNote","close","onUnmounted","props","_normalizeClass","faArrowRight","faCheck","_renderSlot","_ctx","pollingFaster","refreshInterval","router","useRouter","groupsWithNotesAdded","savedGroupBy","selectedGroup","exceptionGroups","loadingData","initialLoadComplete","showDeleteNoteModal","showEditNoteModal","showDeleteGroupModal","showRetryGroupModal","noteSaveSuccessful","groupDeleteSuccessful","groupRetrySuccessful","messageGroupClient","createMessageGroupClient","getExceptionGroups","classifier","result","note","groupFromSC","initializeGroupState","operationStatus","createWorkflowState","loadFailedMessageGroups","groupBy","deleteNote","saveDeleteNote","hideToastMessage","useShowToast","TYPE","saveNote","comment","saveCreatedNote","saveEditedNote","statusesForArchiveOperation","deleteGroup","saveDeleteGroup","changeRefreshInterval","optionalStatus","optionalTotal","optionalFailed","getClasses","stepStatus","currentStatus","statusArray","indexOfStep","indexOfCurrent","getClassesForArchiveOperation","retryGroup","saveRetryGroup","statusesForRetryOperation","getClassesForRetryOperation","acknowledgeGroup","isBeingArchived","status","isBeingRetried","clearInMemoryData","navigateToGroup","groupId","routeLinks","isRetryOrDeleteOperationInProgress","milliseconds","__expose","_createTextVNode","faArrowRotateRight","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","ActionButton","_withModifiers","faTrash","faStickyNote","faPencil","faEraser","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","ProgressMessage","_mergeProps","_hoisted_30","_hoisted_31","_hoisted_32","_normalizeStyle","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","faExclamationTriangle","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_Teleport","FailedMessageGroupNoteEdit","ConfirmDialog","selectedClassifier","classifiers","messageGroupList","useTemplateRef","sortMethod","sortGroups","sort","getSortFunction","SortDirection","sortOptions","faArrowDownAZ","faArrowDownZA","faArrowDown19","faArrowDown91","faArrowDownShortWide","faArrowDownWideShort","getGroupingClassifiers","saveDefaultGroupingClassifier","useCookies","classifierChanged","loadDefaultGroupingClassifier","cookieGrouping","savedClassifier","ServiceControlAvailable","LicenseNotExpired","LastTenOperations","OrderBy","MessageGroupList"],"mappings":"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"}