{"version":3,"file":"SetupView-DEqOu_6r.js","sources":["../../../../frontend/src/views/throughputreport/SetupView.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport isRouteSelected from \"@/composables/isRouteSelected\";\nimport routeLinks from \"@/router/routeLinks\";\nimport { storeToRefs } from \"pinia\";\nimport ThroughputSupported from \"@/views/throughputreport/ThroughputSupported.vue\";\nimport FAIcon from \"@/components/FAIcon.vue\";\nimport { faCheck, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport useThroughputStoreAutoRefresh from \"@/composables/useThroughputStoreAutoRefresh\";\nimport { useServiceControlStore } from \"@/stores/ServiceControlStore\";\n\nconst { store } = useThroughputStoreAutoRefresh();\nconst { testResults, isBrokerTransport } = storeToRefs(store);\n\nconst serviceControlStore = useServiceControlStore();\nconst { isMonitoringEnabled } = storeToRefs(serviceControlStore);\n</script>\n\n<template>\n  <ThroughputSupported>\n    <div class=\"box\">\n      <div class=\"row\">\n        <template v-if=\"!isBrokerTransport\">\n          <div class=\"intro\">\n            <template v-if=\"testResults?.audit_connection_result.connection_successful\">\n              <div>\n                <h6><FAIcon :icon=\"faCheck\" class=\"text-success\" /> Successfully connected to Audit instance(s) for usage collection.</h6>\n              </div>\n            </template>\n            <template v-else>\n              <div>\n                <h6><FAIcon :icon=\"faTimes\" class=\"text-danger\" /> The connection to one or more Audit instances was not successful.</h6>\n              </div>\n            </template>\n            <template v-if=\"isMonitoringEnabled\">\n              <template v-if=\"testResults?.monitoring_connection_result.connection_successful\">\n                <div>\n                  <h6><FAIcon :icon=\"faCheck\" class=\"text-success\" /> Successfully connected to Monitoring for usage collection.</h6>\n                </div>\n              </template>\n              <template v-else>\n                <div>\n                  <h6><FAIcon :icon=\"faTimes\" class=\"text-danger\" /> The connection to Monitoring was not successful.</h6>\n                </div>\n              </template>\n            </template>\n            <p>\n              You are using a transport that does not support automatic usage collection directly from the broker.<br />\n              In order for ServicePulse to collect usage data from your endpoints, you need to ensure that either Audit or Monitoring (metrics) are enabled on all your endpoints.<br />\n              Read the <a href=\"https://docs.particular.net/servicecontrol/audit-instances/\">Audit documentation</a> and the <a href=\"https://docs.particular.net/monitoring/metrics/\">Monitoring documentation</a> for setup instructions.\n            </p>\n            <template v-if=\"!testResults?.audit_connection_result.connection_successful || !testResults?.monitoring_connection_result.connection_successful\">\n              <p>\n                You may have not setup all the connection settings, have a look at the <RouterLink :to=\"routeLinks.throughput.setup.connectionSetup.link\">Connection Setup</RouterLink> tab.<br />\n                If you have set all the connection settings but are still having issues, look at the <RouterLink :to=\"routeLinks.throughput.setup.diagnostics.link\">Diagnostics</RouterLink> tab for more information on how to fix them.\n              </p>\n            </template>\n          </div>\n        </template>\n        <template v-else>\n          <template v-if=\"testResults?.broker_connection_result.connection_successful\">\n            <div>\n              <h6><FAIcon :icon=\"faCheck\" class=\"text-success\" /> Successfully connected to {{ store.transportNameForInstructions() }} for usage collection.</h6>\n            </div>\n          </template>\n          <template v-else>\n            <div>\n              <h6><FAIcon :icon=\"faTimes\" class=\"text-danger\" /> The connection to {{ store.transportNameForInstructions() }} was not successful.</h6>\n              <p>\n                You may have not setup all the connection settings, have a look at the <RouterLink :to=\"routeLinks.throughput.setup.connectionSetup.link\">Connection Setup</RouterLink> tab.<br />\n                If you have set all the connection settings but are still having issues, look at the <RouterLink :to=\"routeLinks.throughput.setup.diagnostics.link\">Diagnostics</RouterLink> tab for more information on how to fix them.\n              </p>\n            </div>\n          </template>\n          <div class=\"alert alert-info\">\n            Note: enabling <a href=\"https://docs.particular.net/servicecontrol/audit-instances/\">Audit</a> or <a href=\"https://docs.particular.net/monitoring/metrics/\">Monitoring</a> is not mandatory when usage is being collected from the broker, but\n            doing so highly improves the accuracy of the usage data and Endpoint identification.\n          </div>\n        </template>\n      </div>\n      <br v-if=\"isBrokerTransport\" />\n      <div class=\"row\">\n        <div class=\"col-sm-12\">\n          <div class=\"nav tabs\">\n            <h5 class=\"nav-item\" :class=\"{ active: isRouteSelected(routeLinks.throughput.setup.connectionSetup.link) }\">\n              <RouterLink :to=\"routeLinks.throughput.setup.connectionSetup.link\">Connection Setup</RouterLink>\n            </h5>\n            <h5 class=\"nav-item\" :class=\"{ active: isRouteSelected(routeLinks.throughput.setup.diagnostics.link) }\">\n              <RouterLink :to=\"routeLinks.throughput.setup.diagnostics.link\">Diagnostics</RouterLink>\n            </h5>\n            <h5 class=\"nav-item\" :class=\"{ active: isRouteSelected(routeLinks.throughput.setup.mask.link) }\">\n              <RouterLink :to=\"routeLinks.throughput.setup.mask.link\">Mask Report Data</RouterLink>\n            </h5>\n          </div>\n        </div>\n      </div>\n      <div class=\"intro\">\n        <RouterView />\n      </div>\n    </div>\n  </ThroughputSupported>\n</template>\n\n<style scoped>\n.intro {\n  margin: 10px 0;\n}\n</style>\n"],"names":["store","useThroughputStoreAutoRefresh","testResults","isBrokerTransport","storeToRefs","serviceControlStore","useServiceControlStore","isMonitoringEnabled","_createBlock","ThroughputSupported","_createElementVNode","_hoisted_1","_hoisted_2","_unref","_createElementBlock","_Fragment","_hoisted_9","_createVNode","FAIcon","faCheck","_createTextVNode","_toDisplayString","_hoisted_10","faTimes","_component_RouterLink","_cache","_openBlock","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_normalizeClass","isRouteSelected","routeLinks","_hoisted_15","_component_RouterView"],"mappings":"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"}