{"version":3,"file":"PlatformLicense-uf_8Z06b.js","sources":["../../../../frontend/src/components/configuration/PlatformLicense.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport ServiceControlAvailable from \"../ServiceControlAvailable.vue\";\nimport ExclamationMark from \"./../../components/ExclamationMark.vue\";\nimport convertToWarningLevel from \"@/components/configuration/convertToWarningLevel\";\nimport { typeText } from \"@/resources/LicenseInfo\";\nimport { faExternalLink } from \"@fortawesome/free-solid-svg-icons\";\nimport FAIcon from \"@/components/FAIcon.vue\";\nimport { useConfigurationStore } from \"@/stores/ConfigurationStore\";\nimport { storeToRefs } from \"pinia\";\nimport { useLicenseStore } from \"@/stores/LicenseStore\";\nimport LoadingSpinner from \"../LoadingSpinner.vue\";\n\nconst configurationStore = useConfigurationStore();\nconst { configuration } = storeToRefs(configurationStore);\nconst licenseStore = useLicenseStore();\nconst { loading, licenseEdition, formattedExpirationDate, formattedUpgradeProtectionExpiration, formattedInstanceName } = storeToRefs(licenseStore);\nconst { licenseStatus, license } = licenseStore;\n</script>\n\n<template>\n  <section name=\"license\">\n    <ServiceControlAvailable>\n      <section>\n        <LoadingSpinner v-if=\"loading\" />\n        <template v-else>\n          <div class=\"box\">\n            <div class=\"row\">\n              <div class=\"license-info\">\n                <div>\n                  <b>Platform license type:</b> <span role=\"note\" aria-label=\"license-type\">{{ typeText(license, configuration) }}{{ licenseEdition }}</span>\n                </div>\n\n                <template v-if=\"licenseStatus.isSubscriptionLicense\">\n                  <div>\n                    <b>License expiry date: </b>\n                    <span\n                      role=\"note\"\n                      aria-label=\"license-expiry-date\"\n                      :class=\"{\n                        'license-expired': licenseStatus.isPlatformExpired,\n                      }\"\n                    >\n                      {{ formattedExpirationDate }}\n                      <span role=\"note\" aria-label=\"license-days-left\">{{ licenseStatus.subscriptionDaysLeft }}</span>\n                      <exclamation-mark :type=\"convertToWarningLevel(licenseStatus.warningLevel)\" />\n                    </span>\n                    <div class=\"license-expired-text\" role=\"note\" aria-label=\"license-expired\" v-if=\"licenseStatus.isPlatformExpired\">Your license expired. Please update the license to continue using the Particular Service Platform.</div>\n                  </div>\n                </template>\n                <template v-if=\"licenseStatus.isTrialLicense\">\n                  <div>\n                    <b>License expiry date: </b>\n                    <span\n                      role=\"note\"\n                      aria-label=\"license-expiry-date\"\n                      :class=\"{\n                        'license-expired': licenseStatus.isPlatformTrialExpired,\n                      }\"\n                    >\n                      {{ formattedExpirationDate }}\n                      <span role=\"note\" aria-label=\"license-days-left\"> {{ licenseStatus.trialDaysLeft }}</span>\n                      <exclamation-mark :type=\"convertToWarningLevel(licenseStatus.warningLevel)\" />\n                    </span>\n                    <div class=\"license-expired-text\" role=\"note\" aria-label=\"license-expired\" v-if=\"licenseStatus.isPlatformTrialExpired\">\n                      Your license expired. To continue using the Particular Service Platform you'll need to extend your license.\n                    </div>\n                    <div class=\"license-page-extend-trial\" v-if=\"licenseStatus.isPlatformTrialExpiring && licenseStatus.isPlatformTrialExpired\">\n                      <a class=\"btn btn-default btn-primary\" :href=\"license.license_extension_url\" target=\"_blank\">Extend your license <FAIcon :icon=\"faExternalLink\" /></a>\n                    </div>\n                  </div>\n                </template>\n                <template v-if=\"licenseStatus.isUpgradeProtectionLicense\">\n                  <div>\n                    <span>\n                      <b>Upgrade protection expiry date:</b>\n                      <span\n                        role=\"note\"\n                        aria-label=\"license-expiry-date\"\n                        :class=\"{\n                          'license-expired': licenseStatus.isInvalidDueToUpgradeProtectionExpired,\n                        }\"\n                      >\n                        {{ formattedUpgradeProtectionExpiration }}\n                        <span role=\"note\" aria-label=\"license-days-left\">{{ licenseStatus.upgradeDaysLeft }}</span>\n                        <exclamation-mark :type=\"convertToWarningLevel(licenseStatus.warningLevel)\" />\n                      </span>\n                    </span>\n                    <div class=\"license-expired-text\" role=\"note\" aria-label=\"license-expired\" v-if=\"licenseStatus.isValidWithExpiredUpgradeProtection || licenseStatus.isValidWithExpiringUpgradeProtection\">\n                      <b>Warning:</b> Once upgrade protection expires, you'll no longer have access to support or new product versions.\n                    </div>\n                    <div class=\"license-expired-text\" v-if=\"licenseStatus.isInvalidDueToUpgradeProtectionExpired\">Your license upgrade protection expired before this version of ServicePulse was released.</div>\n                  </div>\n                </template>\n                <div>\n                  <b>ServiceControl instance:</b>\n                  {{ formattedInstanceName }}\n                </div>\n                <ul class=\"license-install-info\">\n                  <li>\n                    <a href=\"https://docs.particular.net/servicecontrol/license\" target=\"_blank\">Install or update a ServiceControl license</a>\n                  </li>\n                </ul>\n\n                <div class=\"need-help\">\n                  Need help?\n                  <a href=\"https://particular.net/contactus\">Contact us <FAIcon :icon=\"faExternalLink\" /></a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n      </section>\n    </ServiceControlAvailable>\n  </section>\n</template>\n\n<style scoped>\n.license-info {\n  font-size: 16px;\n  padding: 2em;\n  line-height: 3em;\n}\n\n.license-install-info li {\n  line-height: 1em;\n}\n\n.need-help {\n  margin-top: 38px;\n  padding-top: 20px;\n  border-top: 2px solid #f2f2f2;\n}\n</style>\n"],"names":["configurationStore","useConfigurationStore","configuration","storeToRefs","licenseStore","useLicenseStore","loading","licenseEdition","formattedExpirationDate","formattedUpgradeProtectionExpiration","formattedInstanceName","licenseStatus","license","_openBlock","_createElementBlock","_hoisted_1","_createVNode","ServiceControlAvailable","_createElementVNode","_unref","_createBlock","LoadingSpinner","_hoisted_2","_hoisted_3","_hoisted_4","_cache","_hoisted_5","_toDisplayString","typeText","_hoisted_6","_normalizeClass","_createTextVNode","_hoisted_7","ExclamationMark","convertToWarningLevel","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","FAIcon","faExternalLink","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19"],"mappings":"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"}