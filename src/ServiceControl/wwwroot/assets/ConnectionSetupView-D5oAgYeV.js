import{e as I,c as v,r as $,m as l,n as a,K as _,q as t,v as d,Z as k,U as N,bS as F,s as y,u as V,bW as M,o as T,t as m,y as o,B as S,z as u,a3 as B,_ as D,x as g}from"./index-tFZp7u44.js";import{D as P}from"./DropDown-BS-2gDTG.js";import{C as j}from"./CodeEditor-tk58yQKj.js";const q={class:"configuration"},A={class:"instructions"},U=I({__name:"ConfigurationCode",props:{settings:{},configFileName:{default:"ServiceControl.exe.config"}},setup(x){const r=x,b=v(()=>{const n=[];for(const i of r.settings)n.push(`<!-- ${i.description} -->`),n.push(`<add key="${i.name}" value="enter value here" />`);return n.join(`
`)}),s=v(()=>{const n=[];for(const i of r.settings)n.push(`# ${i.description}`),n.push(`export ${i.name.replaceAll("/","_").toUpperCase()}="enter value here"`);return n.join(`
`)}),C=v(()=>{const n=[];for(const i of r.settings)n.push(`rem ${i.description}`),n.push(`set ${i.name.replaceAll("/","_").toUpperCase()}="enter value here"`);return n.join(`
`)}),p=v(()=>{const n=[];for(const i of r.settings)n.push(`# ${i.description}`),n.push(`$env:${i.name.replaceAll("/","_").toUpperCase()} = "enter value here"`);return n.join(`
`)}),c=$("config"),h=v(()=>{switch(c.value){case"bash":return{code:s.value,lang:"shell"};case"windows":return{code:C.value,lang:"shell"};case"powershell":return{code:p.value,lang:"shell"};default:return{code:b.value,lang:"xml"}}}),f=[{text:r.configFileName,value:"config"},{text:"Bash environment variables",value:"bash"},{text:"Windows environment variables",value:"windows"},{text:"PowerShell environment variables",value:"powershell"}];function e(n){c.value=n.value}return(n,i)=>(a(),l(_,null,[t("div",null,[d(P,{label:"Configuration type","select-item":f.find(E=>E.value===c.value),callback:e,items:f},null,8,["select-item"])]),t("div",q,[d(j,{"model-value":h.value.code,language:h.value.lang,"show-gutter":!1},null,8,["model-value","language"]),t("div",A,[c.value==="config"?k(n.$slots,"configInstructions",{key:0},void 0,!0):k(n.$slots,"environmentVariableInstructions",{key:1},void 0,!0)])])],64))}}),w=N(U,[["__scopeId","data-v-ee3ccaac"]]),L={class:"row"},Q={key:0},R={key:1},W={key:0,class:"row configuration"},z={class:"col-12"},K={class:"nogap"},Z=["href"],G={key:0,class:"row configuration"},H={class:"col-12"},J={key:1,class:"row configuration"},O={class:"col-12"},X=I({__name:"ConnectionSetupView",setup(x){const{store:r}=F(),{isBrokerTransport:b}=y(r),s=$(null),C=V(),{isMonitoringEnabled:p}=y(C),c=M();T(async()=>{s.value=await c.setting()});const h=v(()=>{const f=s.value?.broker_settings?.length??0,e=s.value?.monitoring_settings?.length??0,n=s.value?.service_control_settings?.length??0;return f>0||e>0&&p.value||n>0});return(f,e)=>(a(),l(_,null,[t("div",L,[h.value?(a(),l("p",Q,[o(" In order for ServicePulse to collect usage data from "+S(u(r).transportNameForInstructions())+" you need to configure the below settings.",1),e[0]||(e[0]=t("br",null,null,-1)),e[1]||(e[1]=o(" There are two configuration options, as environment variables or directly in the ",-1)),e[2]||(e[2]=t("a",{href:"https://docs.particular.net/servicecontrol/creating-config-file"},[t("code",null,"ServiceControl.exe.config")],-1)),e[3]||(e[3]=o(" file. ",-1))])):(a(),l("p",R,"No further configuration required."))]),s.value?.broker_settings.length??!1?(a(),l("div",W,[t("div",z,[e[10]||(e[10]=t("h4",null,"Broker Settings",-1)),t("p",K,[e[4]||(e[4]=o(" Settings to ensure that usage data is being collected from ",-1)),t("a",{href:u(r).transportDocsLinkForInstructions()},S(u(r).transportNameForInstructions()),9,Z),e[5]||(e[5]=o(".",-1)),e[6]||(e[6]=t("br",null,null,-1)),e[7]||(e[7]=o(" Some settings can be automatically configured based on the current transport configuration, so if you have a ",-1)),d(D,{icon:u(B),class:"text-success"},null,8,["icon"]),o(" above it means that ServiceControl has successfully connected to "+S(u(r).transportNameForInstructions())+". ",1)]),d(w,{settings:s.value?.broker_settings??[]},{configInstructions:g(()=>[...e[8]||(e[8]=[t("div",null,[o("Paste the settings above into the "),t("code",null,"ServiceControl.exe.config"),o(" file of the ServiceControl Error instance.")],-1)])]),environmentVariableInstructions:g(()=>[...e[9]||(e[9]=[t("div",null,"Execute the above instructions in a terminal to set the environment variables, these variables need to be set for the account under which the ServiceControl Error instance is running.",-1)])]),_:1},8,["settings"])])])):m("",!0),u(b)?m("",!0):(a(),l(_,{key:1},[s.value?.service_control_settings.length??!1?(a(),l("div",G,[t("div",H,[e[13]||(e[13]=t("h4",null,"ServiceControl Settings",-1)),e[14]||(e[14]=t("p",{class:"nogap"},[o(" For more information read the "),t("a",{href:"https://docs.particular.net/servicecontrol/creating-config-file#usage-reporting-when-using-servicecontrol-licensingcomponentservicecontrolthroughputdataqueue"},"LicensingComponent/ServiceControlThroughputDataQueue"),o(" settings documentation. ")],-1)),d(w,{settings:s.value?.service_control_settings??[]},{configInstructions:g(()=>[...e[11]||(e[11]=[t("div",null,[o("Paste the settings above into the "),t("code",null,"ServiceControl.exe.config"),o(" file of the ServiceControl Error instance.")],-1)])]),environmentVariableInstructions:g(()=>[...e[12]||(e[12]=[t("div",null,"Execute the above instructions in a terminal to set the environment variables , these variables need to be set for the account under which the ServiceControl Error instance is running.",-1)])]),_:1},8,["settings"])])])):m("",!0),u(p)&&(s.value?.monitoring_settings.length??!1)?(a(),l("div",J,[t("div",O,[e[17]||(e[17]=t("h4",null,"Monitoring Settings",-1)),e[18]||(e[18]=t("p",{class:"nogap"},[o(" For more information read the "),t("a",{href:"https://docs.particular.net/servicecontrol/monitoring-instances/installation/creating-config-file#usage-reporting-monitoringservicecontrolthroughputdataqueue"},"Monitoring/ServiceControlThroughputDataQueue"),o(" settings documentation. ")],-1)),d(w,{settings:s.value?.monitoring_settings??[],configFileName:"ServiceControl.Monitoring.exe.config"},{configInstructions:g(()=>[...e[15]||(e[15]=[t("div",null,[o("Paste the settings above into the "),t("code",null,"ServiceControl.Monitoring.exe.config"),o(" file of the ServiceControl Monitoring instance.")],-1)])]),environmentVariableInstructions:g(()=>[...e[16]||(e[16]=[t("div",null,"Execute the above instructions in a terminal to set the environment variables, these variables need to be set for the account under which the ServiceControl Monitoring instance is running.",-1)])]),_:1},8,["settings"])])])):m("",!0)],64))],64))}}),ne=N(X,[["__scopeId","data-v-d7eac0e4"]]);export{ne as default};
//# sourceMappingURL=ConnectionSetupView-D5oAgYeV.js.map
