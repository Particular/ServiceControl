{"version":3,"file":"MasksView-B1NFdsuZ.js","sources":["../../../../frontend/src/views/throughputreport/setup/MasksView.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { onMounted, ref } from \"vue\";\nimport createThroughputClient from \"@/views/throughputreport/throughputClient\";\nimport { useShowToast } from \"@/composables/toast\";\nimport { TYPE } from \"vue-toastification\";\nimport { useEnvironmentAndVersionsStore } from \"@/stores/EnvironmentAndVersionsStore\";\nimport useIsThroughputSupported from \"../isThroughputSupported\";\n\nconst masks = ref<string>(\"\");\nconst separator = \"\\n\";\n\nconst environmentStore = useEnvironmentAndVersionsStore();\nconst isThroughputSupported = useIsThroughputSupported();\n\nconst throughputClient = createThroughputClient();\n\nonMounted(async () => {\n  if (environmentStore.environment.sc_version === \"\") await environmentStore.refresh();\n  //needs to be after the environment refresh since it uses the sc_version\n  if (!isThroughputSupported.value) return;\n  const maskArray = await throughputClient.getMasks();\n  masks.value = maskArray.join(separator);\n});\n\nfunction masksChanged(event: Event) {\n  masks.value = (event.target as HTMLInputElement).value;\n}\n\nasync function updateMasks() {\n  const values = masks.value.split(separator).filter((value) => value.length > 0);\n\n  await throughputClient.updateMasks(values);\n\n  useShowToast(TYPE.SUCCESS, \"Masks Saved\", \"\");\n}\n</script>\n\n<template>\n  <div class=\"row\">\n    <div class=\"col-6\">\n      <div>\n        <p>\n          The report that is generated will contain the names of endpoints/queues.<br />\n          If the names themselves contain confidential or proprietary information, certain strings can be masked in the report file.\n        </p>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-6\">\n      <label class=\"form-label\">List of words to mask</label>\n      <textarea class=\"form-control\" aria-label=\"List of words to mask\" rows=\"3\" :value=\"masks\" @input=\"masksChanged\"></textarea>\n      <div class=\"form-text\">One word per line.</div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-6\">\n      <br />\n      <button class=\"btn btn-primary\" type=\"button\" @click=\"updateMasks\" aria-label=\"Save\">Save</button>\n    </div>\n  </div>\n</template>\n\n<style scoped></style>\n"],"names":["separator","masks","ref","environmentStore","useEnvironmentAndVersionsStore","isThroughputSupported","useIsThroughputSupported","throughputClient","createThroughputClient","onMounted","maskArray","masksChanged","event","updateMasks","values","value","useShowToast","TYPE","_createElementVNode","_hoisted_1","_hoisted_2","_cache"],"mappings":"mLASMA,EAAY;AAAA,mCADlB,MAAMC,EAAQC,EAAY,EAAE,EAGtBC,EAAmBC,EAAA,EACnBC,EAAwBC,EAAA,EAExBC,EAAmBC,EAAA,EAEzBC,EAAU,SAAY,CAGpB,GAFIN,EAAiB,YAAY,aAAe,IAAI,MAAMA,EAAiB,QAAA,EAEvE,CAACE,EAAsB,MAAO,OAClC,MAAMK,EAAY,MAAMH,EAAiB,SAAA,EACzCN,EAAM,MAAQS,EAAU,KAAKV,CAAS,CACxC,CAAC,EAED,SAASW,EAAaC,EAAc,CAClCX,EAAM,MAASW,EAAM,OAA4B,KACnD,CAEA,eAAeC,GAAc,CAC3B,MAAMC,EAASb,EAAM,MAAM,MAAMD,CAAS,EAAE,OAAQe,GAAUA,EAAM,OAAS,CAAC,EAE9E,MAAMR,EAAiB,YAAYO,CAAM,EAEzCE,EAAaC,EAAK,QAAS,cAAe,EAAE,CAC9C,yCAIEC,EASM,MAAA,CATD,MAAM,OAAK,CACdA,EAOM,MAAA,CAPD,MAAM,SAAO,CAChBA,EAKM,MAAA,KAAA,CAJJA,EAGI,IAAA,KAAA,GAHD,2EACuE,EAAAA,EAAM,IAAA,IAAA,8HAEhF,CAAA,aAINA,EAMM,MANNC,EAMM,CALJD,EAIM,MAJNE,EAIM,CAHJC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAH,EAAuD,QAAA,CAAhD,MAAM,YAAA,EAAa,wBAAqB,EAAA,GAC/CA,EAA2H,WAAA,CAAjH,MAAM,eAAe,aAAW,wBAAwB,KAAK,IAAK,MAAOjB,EAAA,MAAQ,QAAOU,CAAA,aAClGU,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAH,EAA+C,MAAA,CAA1C,MAAM,aAAY,qBAAkB,EAAA,EAAA,KAG7CA,EAKM,MAAA,CALD,MAAM,OAAK,CACdA,EAGM,MAAA,CAHD,MAAM,SAAO,aAChBA,EAAM,KAAA,KAAA,KAAA,EAAA,GACNA,EAAkG,SAAA,CAA1F,MAAM,kBAAkB,KAAK,SAAU,QAAOL,EAAa,aAAW,MAAA,EAAO,MAAI,CAAA"}