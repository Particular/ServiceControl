{"version":3,"file":"DiagnosticsView-Bm6Igj1U.js","sources":["../../../../frontend/src/views/throughputreport/setup/ConnectionResultView.vue","../../../../frontend/src/views/throughputreport/setup/DiagnosticsView.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ConnectionSettingsTestResult } from \"@/resources/ConnectionTestResults\";\nimport FAIcon from \"@/components/FAIcon.vue\";\nimport { faCheck, faTimes } from \"@fortawesome/free-solid-svg-icons\";\n\nconst props = defineProps<{\n  result: ConnectionSettingsTestResult;\n  title: string;\n}>();\n</script>\n\n<template>\n  <div class=\"title\">\n    <FAIcon v-if=\"result.connection_successful\" :icon=\"faCheck\" class=\"text-success\" />\n    <FAIcon v-else :icon=\"faTimes\" class=\"text-danger\" />\n    <strong> {{ props.title }} </strong>\n  </div>\n  <div class=\"instructions\"><slot name=\"instructions\"></slot></div>\n  <pre>{{ props.result.diagnostics }}</pre>\n</template>\n\n<style scoped>\n.title {\n  margin-top: 10px;\n}\n.instructions {\n  margin-bottom: 10px;\n}\n</style>\n","<script setup lang=\"ts\">\nimport ConnectionResultView from \"@/views/throughputreport/setup/ConnectionResultView.vue\";\nimport { storeToRefs } from \"pinia\";\nimport { ref } from \"vue\";\nimport useThroughputStoreAutoRefresh from \"@/composables/useThroughputStoreAutoRefresh\";\nimport { useServiceControlStore } from \"@/stores/ServiceControlStore\";\n\nconst { store } = useThroughputStoreAutoRefresh();\nconst { testResults, isBrokerTransport } = storeToRefs(store);\nconst serviceControlStore = useServiceControlStore();\nconst { isMonitoringEnabled } = storeToRefs(serviceControlStore);\nconst loading = ref(false);\n\nasync function testConnection() {\n  loading.value = true;\n  await store.refresh();\n  loading.value = false;\n}\n</script>\n\n<template>\n  <div class=\"row\">\n    <h6>Test Connection Results</h6>\n    <template v-if=\"loading\">\n      <div class=\"sp-loader\" />\n    </template>\n    <template v-else>\n      <ConnectionResultView v-if=\"isBrokerTransport && testResults !== null\" title=\"Broker\" :result=\"testResults.broker_connection_result\" />\n      <ConnectionResultView v-if=\"testResults !== null\" title=\"Audit\" :result=\"testResults.audit_connection_result\">\n        <template #instructions>\n          <a href=\"https://docs.particular.net/servicecontrol/servicecontrol-instances/remotes#configuration\" target=\"_blank\">Learn how to configure audit instances</a>\n        </template>\n      </ConnectionResultView>\n      <ConnectionResultView v-if=\"isMonitoringEnabled && testResults !== null\" title=\"Monitoring\" :result=\"testResults.monitoring_connection_result\">\n        <template #instructions>\n          <a href=\"https://docs.particular.net/servicecontrol/monitoring-instances/installation/creating-config-file\" target=\"_blank\">Learn how to configure monitor instances</a>\n        </template>\n      </ConnectionResultView>\n    </template>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-6\">\n      <button class=\"btn btn-primary actions\" type=\"button\" :disabled=\"loading\" @click=\"testConnection()\" aria-label=\"Refresh Connection Test\">Refresh Connection Test</button>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.sp-loader {\n  width: 100%;\n  height: 90vh;\n  margin-top: -100px;\n  background-image: url(\"@/assets/sp-loader.gif\");\n  background-size: 150px 150px;\n  background-position: center center;\n  background-repeat: no-repeat;\n}\n</style>\n"],"names":["props","__props","_createElementVNode","_hoisted_1","_createBlock","FAIcon","_unref","faCheck","faTimes","_toDisplayString","_hoisted_2","_renderSlot","_ctx","store","useThroughputStoreAutoRefresh","testResults","isBrokerTransport","storeToRefs","serviceControlStore","useServiceControlStore","isMonitoringEnabled","loading","ref","testConnection","_cache","_openBlock","_createElementBlock","_Fragment","ConnectionResultView","_hoisted_3","_hoisted_4","_hoisted_5"],"mappings":"iSAKA,MAAMA,EAAQC,8BAOZC,EAIM,MAJNC,EAIM,CAHUF,EAAA,OAAO,2BAArBG,EAAmFC,EAAA,OAAtC,KAAMC,EAAAC,CAAA,EAAS,MAAM,cAAA,yBAClEH,EAAqDC,EAAA,OAArC,KAAMC,EAAAE,CAAA,EAAS,MAAM,aAAA,oBACrCN,EAAoC,SAAA,KAAAO,EAAxBT,EAAM,KAAK,EAAA,CAAA,CAAA,GAEzBE,EAAiE,MAAjEQ,EAAiE,CAAvCC,EAAiCC,EAAA,OAAA,eAAA,CAAA,EAAA,OAAA,EAAA,CAAA,GAC3DV,EAAyC,MAAA,KAAAO,EAAjCT,EAAM,OAAO,WAAW,EAAA,CAAA,CAAA,uLCXlC,KAAM,CAAE,MAAAa,CAAA,EAAUC,EAAA,EACZ,CAAE,YAAAC,EAAa,kBAAAC,GAAsBC,EAAYJ,CAAK,EACtDK,EAAsBC,EAAA,EACtB,CAAE,oBAAAC,CAAA,EAAwBH,EAAYC,CAAmB,EACzDG,EAAUC,EAAI,EAAK,EAEzB,eAAeC,GAAiB,CAC9BF,EAAQ,MAAQ,GAChB,MAAMR,EAAM,QAAA,EACZQ,EAAQ,MAAQ,EAClB,6BAIEnB,EAkBM,MAlBNC,EAkBM,CAjBJqB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAtB,EAAgC,UAA5B,0BAAuB,EAAA,GACXmB,EAAA,OACdI,EAAA,EAAAC,EAAyB,MAAzBhB,CAAyB,QAE3BgB,EAYWC,EAAA,CAAA,IAAA,GAAA,CAXmBrB,EAAAU,CAAA,GAAqBV,EAAAS,CAAA,IAAW,UAA5DX,EAAuIwB,EAAA,OAAhE,MAAM,SAAU,OAAQtB,EAAAS,CAAA,EAAY,wBAAA,+BAC/ET,EAAAS,CAAA,IAAW,UAAvCX,EAIuBwB,EAAA,OAJ2B,MAAM,QAAS,OAAQtB,EAAAS,CAAA,EAAY,uBAAA,GACxE,eACT,IAA8J,CAAA,GAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAA9JtB,EAA8J,IAAA,CAA3J,KAAK,4FAA4F,OAAO,QAAA,EAAS,yCAAsC,EAAA,CAAA,kCAGlII,EAAAc,CAAA,GAAuBd,EAAAS,CAAA,IAAW,UAA9DX,EAIuBwB,EAAA,OAJkD,MAAM,aAAc,OAAQtB,EAAAS,CAAA,EAAY,4BAAA,GACpG,eACT,IAAwK,CAAA,GAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAAxKtB,EAAwK,IAAA,CAArK,KAAK,oGAAoG,OAAO,QAAA,EAAS,2CAAwC,EAAA,CAAA,0CAK5KA,EAIM,MAJN2B,EAIM,CAHJ3B,EAEM,MAFN4B,EAEM,CADJ5B,EAAyK,SAAA,CAAjK,MAAM,0BAA0B,KAAK,SAAU,SAAUmB,EAAA,MAAU,uBAAOE,KAAkB,aAAW,yBAAA,EAA0B,0BAAuB,EAAAQ,CAAA,CAAA"}