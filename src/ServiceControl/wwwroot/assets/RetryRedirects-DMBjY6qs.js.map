{"version":3,"file":"RetryRedirects-DMBjY6qs.js","sources":["../../../../frontend/src/components/configuration/RetryRedirectEdit.vue","../../../../frontend/src/components/configuration/RetryRedirects.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { computed, ref } from \"vue\";\nimport ActionButton from \"@/components/ActionButton.vue\";\nimport FAIcon from \"@/components/FAIcon.vue\";\nimport { faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\n\nexport interface RetryRedirect {\n  redirectId: string;\n  sourceQueue: string;\n  targetQueue: string;\n  immediatelyRetry: boolean;\n}\n\nconst emit = defineEmits<{\n  create: [retry: RetryRedirect];\n  edit: [retry: RetryRedirect];\n  cancel: [];\n}>();\nconst model = withDefaults(\n  defineProps<{\n    message_redirect_id: string;\n    from_physical_address: string;\n    to_physical_address: string;\n    immediately_retry?: boolean;\n    queues: string[];\n  }>(),\n  { immediately_retry: false }\n);\n\nconst sourceQueue = ref(model.from_physical_address);\nconst targetQueue = ref(model.to_physical_address);\nconst immediatelyRetry = ref(model.immediately_retry);\n\nconst sourceQueueIsValid = computed(() => {\n  return !!sourceQueue.value;\n});\nconst targetQueueIsValid = computed(() => {\n  return targetQueue.value && targetQueue.value !== sourceQueue.value;\n});\n\nconst formIsValid = computed(() => {\n  return sourceQueueIsValid.value && targetQueueIsValid.value;\n});\n\nconst notKnownQueue = computed(() => {\n  return !model.queues.includes(targetQueue.value);\n});\n\nconst noKnownQueues = computed(() => {\n  return model.queues.length === 0;\n});\n\nconst sourceQueueTooltip = \"Choose a queue that is known to Service Control\";\nconst targetQueueTooltip = \"Choose a queue that is known to Service Control or provide a custom queue\";\n\nfunction selectToAddress(item: string) {\n  targetQueue.value = item;\n}\n\nfunction create() {\n  const redirect = {\n    redirectId: \"\",\n    sourceQueue: sourceQueue.value,\n    targetQueue: targetQueue.value,\n    immediatelyRetry: immediatelyRetry.value,\n  };\n  emit(\"create\", redirect);\n}\n\nfunction edit() {\n  const redirect = {\n    redirectId: model.message_redirect_id,\n    sourceQueue: sourceQueue.value,\n    targetQueue: targetQueue.value,\n    immediatelyRetry: immediatelyRetry.value,\n  };\n  emit(\"edit\", redirect);\n}\n\nfunction close() {\n  emit(\"cancel\");\n}\n</script>\n\n<template>\n  <div class=\"modal-mask\">\n    <div class=\"modal-wrapper\">\n      <div class=\"modal-container modal-content\">\n        <div class=\"modal-header\">\n          <h3 class=\"modal-title\" v-if=\"model.message_redirect_id\">Modify redirect</h3>\n          <h3 class=\"modal-title\" v-if=\"!model.message_redirect_id\">Create redirect</h3>\n        </div>\n\n        <form name=\"redirectForm\" class=\"redirectForm\" novalidate>\n          <div class=\"modal-body\">\n            <div class=\"row\">\n              <div class=\"form-group\">\n                <label for=\"sourceQueue\">From physical address</label>\n                <FAIcon :icon=\"faInfoCircle\" v-tippy=\"sourceQueueTooltip\" class=\"info\" size=\"sm\" />\n                <div :class=\"{ 'has-error': !sourceQueueIsValid, 'has-success': sourceQueueIsValid }\">\n                  <select id=\"sourceQueue\" name=\"sourceQueue\" v-model=\"sourceQueue\" class=\"form-select\" required :disabled=\"!!model.message_redirect_id\">\n                    <option v-for=\"option in model.queues\" :value=\"option\" :key=\"option\">\n                      {{ option }}\n                    </option>\n                  </select>\n                </div>\n              </div>\n              <div class=\"row\"></div>\n              <div class=\"form-group\">\n                <label for=\"targetQueue\">To physical address</label>\n                <FAIcon :icon=\"faInfoCircle\" v-tippy=\"targetQueueTooltip\" class=\"info\" size=\"sm\" />\n                <div :class=\"{ 'has-error': !targetQueueIsValid, 'has-success': targetQueueIsValid }\">\n                  <vue3-simple-typeahead\n                    id=\"targetQueue\"\n                    name=\"targetQueue\"\n                    :defaultItem=\"model.to_physical_address\"\n                    v-model=\"targetQueue\"\n                    @selectItem=\"selectToAddress\"\n                    class=\"form-control\"\n                    required\n                    placeholder=\"Start writing...\"\n                    :items=\"model.queues\"\n                    :minInputLength=\"1\"\n                  >\n                  </vue3-simple-typeahead>\n\n                  <template v-if=\"noKnownQueues\">\n                    <div :class=\"{ 'has-error': noKnownQueues }\">\n                      <p class=\"control-label\">No known queues found. You can enter a queue name manually, but if you don't provide a valid address, the redirected message will be lost.</p>\n                    </div>\n                  </template>\n                  <template v-if=\"notKnownQueue\">\n                    <div :class=\"{ 'has-error': notKnownQueue }\">\n                      <p class=\"control-label\">Target queue does not match any known queue. You can enter a queue name manually, but if you don't provide a valid address, the redirected message will be lost.</p>\n                    </div>\n                  </template>\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <input type=\"checkbox\" v-model=\"immediatelyRetry\" class=\"check-label\" id=\"immediatelyRetry\" />\n                <label for=\"immediatelyRetry\">Immediately retry any matching failed messages</label>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <ActionButton v-if=\"model.message_redirect_id\" variant=\"primary\" :disabled=\"!formIsValid\" @click=\"edit\">Modify</ActionButton>\n            <ActionButton v-if=\"!model.message_redirect_id\" variant=\"primary\" :disabled=\"!formIsValid\" @click=\"create\">Create</ActionButton>\n            <ActionButton @click=\"close\">Cancel</ActionButton>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n@import \"@/components/modal.css\";\n\n.redirectForm {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-height: 0;\n}\n\np.control-label {\n  margin-bottom: 2px;\n}\n\n.info {\n  margin-left: 4px;\n  color: var(--info-icon);\n}\n</style>\n","<script setup lang=\"ts\">\nimport { onMounted, ref } from \"vue\";\nimport LicenseNotExpired from \"../LicenseNotExpired.vue\";\nimport ServiceControlAvailable from \"../ServiceControlAvailable.vue\";\nimport NoData from \"../NoData.vue\";\nimport { useShowToast } from \"@/composables/toast\";\nimport TimeSince from \"../TimeSince.vue\";\nimport ConfirmDialog from \"../ConfirmDialog.vue\";\nimport { TYPE } from \"vue-toastification\";\nimport type Redirect from \"@/resources/Redirect\";\nimport RetryRedirectEdit, { type RetryRedirect } from \"@/components/configuration/RetryRedirectEdit.vue\";\nimport FAIcon from \"@/components/FAIcon.vue\";\nimport ActionButton from \"@/components/ActionButton.vue\";\nimport { faClock } from \"@fortawesome/free-regular-svg-icons\";\nimport useEnvironmentAndVersionsAutoRefresh from \"@/composables/useEnvironmentAndVersionsAutoRefresh\";\nimport { useServiceControlStore } from \"@/stores/ServiceControlStore\";\nimport { useRedirectsStore } from \"@/stores/RedirectsStore\";\nimport LoadingSpinner from \"../LoadingSpinner.vue\";\n\nconst { store: environmentStore } = useEnvironmentAndVersionsAutoRefresh();\nconst hasResponseStatusInHeader = environmentStore.serviceControlIsGreaterThan(\"5.2.0\");\nconst serviceControlStore = useServiceControlStore();\nconst redirectsStore = useRedirectsStore();\n\nconst loadingData = ref(true);\nconst redirects = redirectsStore.redirects;\n\nconst showDelete = ref(false);\nconst showEdit = ref(false);\nconst selectedRedirect = ref<Redirect & { queues: string[] }>({\n  message_redirect_id: \"\",\n  from_physical_address: \"\",\n  to_physical_address: \"\",\n  last_modified: \"\",\n  queues: [],\n});\n\nconst redirectSaveSuccessful = ref<boolean | null>(null);\n\nasync function getRedirect() {\n  loadingData.value = true;\n  await redirectsStore.refresh();\n  selectedRedirect.value.queues = redirectsStore.redirects.queues;\n  loadingData.value = false;\n}\n\nfunction createRedirect() {\n  redirectSaveSuccessful.value = null;\n  selectedRedirect.value.message_redirect_id = \"\";\n  selectedRedirect.value.from_physical_address = \"\";\n  selectedRedirect.value.to_physical_address = \"\";\n  showEdit.value = true;\n}\n\nfunction editRedirect(redirect: Redirect) {\n  redirectSaveSuccessful.value = null;\n  selectedRedirect.value.message_redirect_id = redirect.message_redirect_id;\n  selectedRedirect.value.from_physical_address = redirect.from_physical_address;\n  selectedRedirect.value.to_physical_address = redirect.to_physical_address;\n  showEdit.value = true;\n}\n\nasync function saveUpdatedRedirect(redirect: RetryRedirect) {\n  redirectSaveSuccessful.value = null;\n  showEdit.value = false;\n  const result = handleResponse(\n    await serviceControlStore.putToServiceControl(`redirects/${redirect.redirectId}`, {\n      id: redirect.redirectId,\n      fromphysicaladdress: redirect.sourceQueue,\n      tophysicaladdress: redirect.targetQueue,\n    })\n  );\n  if (result.message === \"success\") {\n    redirectSaveSuccessful.value = true;\n    useShowToast(TYPE.INFO, \"Info\", \"Redirect updated successfully\");\n    getRedirect();\n  } else {\n    redirectSaveSuccessful.value = false;\n    if (result.status === 409) {\n      useShowToast(TYPE.ERROR, \"Error\", \"Failed to update a redirect, can not create redirect to a queue\" + redirect.targetQueue + \" as it already has a redirect. Provide a different queue or end the redirect.\");\n    } else {\n      useShowToast(TYPE.ERROR, \"Error\", result.message);\n    }\n  }\n  if (result.message === \"success\" && redirect.immediatelyRetry) {\n    return redirectsStore.retryPendingMessagesForQueue(redirect.sourceQueue);\n  } else {\n    return result;\n  }\n}\n\nasync function saveCreatedRedirect(redirect: RetryRedirect) {\n  redirectSaveSuccessful.value = null;\n  showEdit.value = false;\n  const result = handleResponse(\n    await serviceControlStore.postToServiceControl(\"redirects\", {\n      fromphysicaladdress: redirect.sourceQueue,\n      tophysicaladdress: redirect.targetQueue,\n    })\n  );\n  if (result.message === \"success\") {\n    redirectSaveSuccessful.value = true;\n    useShowToast(TYPE.INFO, \"Info\", \"Redirect created successfully\");\n    getRedirect();\n  } else {\n    redirectSaveSuccessful.value = false;\n    if (result.status === 409 && result.statusText === \"Duplicate\") {\n      useShowToast(TYPE.ERROR, \"Error\", \"Failed to create a redirect, can not create more than one redirect for queue: \" + redirect.sourceQueue);\n    } else if (result.status === 409 && result.statusText === \"Dependents\") {\n      useShowToast(TYPE.ERROR, \"Error\", \"Failed to create a redirect, can not create a redirect to a queue that already has a redirect or is a target of a redirect.\");\n    } else {\n      useShowToast(TYPE.ERROR, \"Error\", result.message);\n    }\n  }\n}\n\nfunction deleteRedirect(redirect: Redirect) {\n  redirectSaveSuccessful.value = null;\n  selectedRedirect.value.message_redirect_id = redirect.message_redirect_id;\n  showDelete.value = true;\n}\n\nasync function saveDeletedRedirect() {\n  const result = handleResponse(await serviceControlStore.deleteFromServiceControl(`redirects/${selectedRedirect.value.message_redirect_id}`));\n  if (result.message === \"success\") {\n    redirectSaveSuccessful.value = true;\n    useShowToast(TYPE.INFO, \"Info\", \"Redirect deleted\");\n    await getRedirect();\n  } else {\n    redirectSaveSuccessful.value = false;\n    useShowToast(TYPE.ERROR, \"Error\", result.message);\n  }\n}\n\nonMounted(() => {\n  getRedirect();\n});\n\nfunction handleResponse(response: Response) {\n  const responseStatusText = hasResponseStatusInHeader.value ? response.headers.get(\"X-Particular-Reason\") : response.statusText;\n  return {\n    message: response.ok ? \"success\" : `error:${response.statusText}`,\n    status: response.status,\n    statusText: responseStatusText,\n    data: response,\n  };\n}\n</script>\n\n<template>\n  <section name=\"redirects\">\n    <ServiceControlAvailable>\n      <LicenseNotExpired>\n        <section>\n          <LoadingSpinner v-if=\"loadingData\" />\n\n          <div class=\"row\">\n            <div class=\"col-sm-12\">\n              <div class=\"btn-toolbar\">\n                <ActionButton @click=\"createRedirect\"><i class=\"fa pa-redirect-source pa-redirect-small\"></i> Create Redirect</ActionButton>\n                <span></span>\n              </div>\n            </div>\n          </div>\n\n          <NoData v-if=\"redirects.total === 0 && !loadingData\" title=\"Redirects\" message=\"There are currently no redirects\"></NoData>\n\n          <div class=\"row\">\n            <template v-if=\"redirects.total > 0\">\n              <div class=\"col-sm-12\">\n                <template v-for=\"redirect in redirects.data\" :key=\"redirect.message_redirect_id\">\n                  <div class=\"row box repeat-modify\">\n                    <div class=\"row\" id=\"{{redirect.from_physical_address}}\">\n                      <div class=\"col-sm-12\">\n                        <p class=\"lead hard-wrap truncate\" :title=\"redirect.from_physical_address\">\n                          <i class=\"fa pa-redirect-source pa-redirect-small\" title=\"Source queue name\"></i>\n                          {{ redirect.from_physical_address }}\n                        </p>\n                        <p class=\"lead hard-wrap truncate\" :title=\"redirect.to_physical_address\">\n                          <i class=\"fa pa-redirect-destination pa-redirect-small\" title=\"Destination queue name\"></i>\n                          {{ redirect.to_physical_address }}\n                        </p>\n                        <p class=\"metadata\">\n                          <FAIcon :icon=\"faClock\" size=\"sm\" class=\"icon\" />\n                          Last modified: <time-since :dateUtc=\"redirect.last_modified\"></time-since>\n                        </p>\n                      </div>\n                    </div>\n                    <div class=\"row\">\n                      <div class=\"col-sm-12\">\n                        <p class=\"small\">\n                          <ActionButton variant=\"link\" size=\"sm\" @click=\"deleteRedirect(redirect)\">End Redirect</ActionButton>\n                          <ActionButton variant=\"link\" size=\"sm\" @click=\"editRedirect(redirect)\">Modify Redirect</ActionButton>\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </template>\n              </div>\n            </template>\n          </div>\n          <Teleport to=\"#modalDisplay\">\n            <ConfirmDialog\n              v-if=\"showDelete\"\n              @cancel=\"showDelete = false\"\n              @confirm=\"\n                showDelete = false;\n                saveDeletedRedirect();\n              \"\n              :heading=\"'Are you sure you want to end the redirect?'\"\n              :body=\"'Once the redirect is ended, any affected messages will be sent to the original destination queue. Ensure this queue is ready to accept messages again.'\"\n            ></ConfirmDialog>\n          </Teleport>\n          <Teleport to=\"#modalDisplay\">\n            <RetryRedirectEdit v-if=\"showEdit\" v-bind=\"selectedRedirect\" @cancel=\"showEdit = false\" @create=\"saveCreatedRedirect\" @edit=\"saveUpdatedRedirect\"></RetryRedirectEdit>\n          </Teleport>\n        </section>\n      </LicenseNotExpired>\n    </ServiceControlAvailable>\n  </section>\n</template>\n\n<style scoped>\n.pa-redirect-source {\n  background-image: url(\"@/assets/redirect-source.svg\");\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n.pa-redirect-small {\n  position: relative;\n  top: 1px;\n  height: 14px;\n  width: 14px;\n}\n\n.pa-redirect-destination {\n  background-image: url(\"@/assets/redirect-destination.svg\");\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n.icon {\n  color: var(--reduced-emphasis);\n}\n</style>\n"],"names":["sourceQueueTooltip","targetQueueTooltip","emit","__emit","model","__props","sourceQueue","ref","targetQueue","immediatelyRetry","sourceQueueIsValid","computed","targetQueueIsValid","formIsValid","notKnownQueue","noKnownQueues","selectToAddress","item","create","redirect","edit","close","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_cache","_createVNode","FAIcon","_unref","faInfoCircle","_normalizeClass","$event","_Fragment","_renderList","option","_hoisted_12","_hoisted_13","_component_vue3_simple_typeahead","_hoisted_14","_hoisted_15","_createBlock","ActionButton","environmentStore","useEnvironmentAndVersionsAutoRefresh","hasResponseStatusInHeader","serviceControlStore","useServiceControlStore","redirectsStore","useRedirectsStore","loadingData","redirects","showDelete","showEdit","selectedRedirect","redirectSaveSuccessful","getRedirect","createRedirect","editRedirect","saveUpdatedRedirect","result","handleResponse","useShowToast","TYPE","saveCreatedRedirect","deleteRedirect","saveDeletedRedirect","onMounted","response","responseStatusText","ServiceControlAvailable","LicenseNotExpired","LoadingSpinner","NoData","_toDisplayString","_hoisted_11","faClock","TimeSince","_Teleport","ConfirmDialog","RetryRedirectEdit","_mergeProps"],"mappings":"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"}